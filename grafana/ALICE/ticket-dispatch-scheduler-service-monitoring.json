{
  "apiVersion": "dashboard.grafana.app/v0alpha1",
  "kind": "Dashboard",
  "metadata": {
    "name": "eer844hyowb28e"
  },
  "spec": {
    "annotations": {
      "list": [
        {
          "builtIn": 1,
          "datasource": {
            "type": "datasource",
            "uid": "grafana"
          },
          "enable": false,
          "filter": {
            "exclude": false,
            "ids": [
              4
            ]
          },
          "hide": true,
          "iconColor": "orange",
          "name": "Annotations \u0026 Alerts",
          "tagsField": "involvedObject.labels.name",
          "target": {
            "limit": 100,
            "matchAny": false,
            "query": "involvedObject.namespace:$namespace AND type:Warning AND reason:Unhealthy",
            "tags": [],
            "type": "dashboard"
          },
          "textField": "message",
          "timeEndField": "",
          "timeField": "firstTimestamp",
          "type": "dashboard"
        },
        {
          "datasource": {
            "type": "elasticsearch",
            "uid": "9Pm7CqB4z"
          },
          "enable": false,
          "hide": true,
          "iconColor": "orange",
          "name": "Readiness \u0026 Liveness robe failures",
          "tagsField": "",
          "target": {
            "query": "involvedObject.labels.name:\"$service\" AND involvedObject.namespace:$namespace AND type:Warning AND message:\"probe failed\" AND NOT message:\"Startup probe failed\"",
            "refId": "annotation_query"
          },
          "textField": "message",
          "timeField": "firstTimestamp"
        },
        {
          "datasource": {
            "type": "elasticsearch",
            "uid": "9Pm7CqB4z"
          },
          "enable": true,
          "hide": false,
          "iconColor": "blue",
          "name": "Scaling UP events",
          "tagsField": "",
          "target": {
            "query": "involvedObject.kind:\"HorizontalPodAutoscaler\" AND involvedObject.namespace:$namespace AND involvedObject.name:\"$service\" AND NOT message:\"All metrics below target\"",
            "refId": "annotation_query"
          },
          "textField": "message",
          "timeField": "metadata.creationTimestamp"
        },
        {
          "datasource": {
            "type": "elasticsearch",
            "uid": "9Pm7CqB4z"
          },
          "enable": true,
          "hide": false,
          "iconColor": "green",
          "name": "Scaling DOWN events",
          "tagsField": "",
          "target": {
            "query": "involvedObject.kind:\"HorizontalPodAutoscaler\" AND involvedObject.namespace:$namespace AND involvedObject.name:\"$service\" AND message:\"below\"",
            "refId": "annotation_query"
          },
          "textField": "message",
          "timeField": "metadata.creationTimestamp"
        },
        {
          "datasource": {
            "type": "loki",
            "uid": "c7a89e16-1795-489a-b837-a179c7adbe55"
          },
          "enable": false,
          "expr": "{service_name=\"unknown_service\"} | logfmt | namespace = `$namespace` |~ `(?i)probe failed` | type=`Warning` | name=~`$service.*` | msg!~`Startup probe failed.*`",
          "hide": false,
          "iconColor": "red",
          "instant": false,
          "name": "Probe failures"
        }
      ]
    },
    "editable": true,
    "fiscalYearStartMonth": 0,
    "graphTooltip": 1,
    "links": [
      {
        "asDropdown": false,
        "icon": "dashboard",
        "includeVars": true,
        "keepTime": true,
        "tags": [],
        "targetBlank": false,
        "title": "Back to fleet overview",
        "tooltip": "",
        "type": "link",
        "url": "/d/java-services-fleet-overview"
      }
    ],
    "liveNow": true,
    "panels": [
      {
        "collapsed": true,
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 0
        },
        "id": 60,
        "panels": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "ee55cp459sa9sd"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "custom": {
                  "align": "auto",
                  "cellOptions": {
                    "type": "auto"
                  },
                  "inspect": false
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                }
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Instance ID"
                  },
                  "properties": [
                    {
                      "id": "custom.filterable",
                      "value": false
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Threads"
                  },
                  "properties": [
                    {
                      "id": "custom.width",
                      "value": 100
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Heap"
                  },
                  "properties": [
                    {
                      "id": "custom.width",
                      "value": 120
                    },
                    {
                      "id": "custom.cellOptions",
                      "value": {
                        "mode": "basic",
                        "type": "gauge",
                        "valueDisplayMode": "text"
                      }
                    },
                    {
                      "id": "unit",
                      "value": "percent"
                    },
                    {
                      "id": "color",
                      "value": {
                        "mode": "continuous-BlYlRd"
                      }
                    },
                    {
                      "id": "min",
                      "value": 0
                    },
                    {
                      "id": "max",
                      "value": 100
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "JVM"
                  },
                  "properties": [
                    {
                      "id": "custom.width",
                      "value": 120
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Duration, Avg"
                  },
                  "properties": [
                    {
                      "id": "custom.width",
                      "value": 100
                    },
                    {
                      "id": "unit",
                      "value": "s"
                    },
                    {
                      "id": "decimals",
                      "value": 0
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Rate"
                  },
                  "properties": [
                    {
                      "id": "custom.width",
                      "value": 120
                    },
                    {
                      "id": "unit",
                      "value": "reqpm"
                    },
                    {
                      "id": "decimals",
                      "value": 2
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Uptime"
                  },
                  "properties": [
                    {
                      "id": "custom.width",
                      "value": 100
                    },
                    {
                      "id": "unit",
                      "value": "s"
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "JVM"
                  },
                  "properties": [
                    {
                      "id": "custom.width",
                      "value": 120
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "App Version"
                  },
                  "properties": [
                    {
                      "id": "custom.width",
                      "value": 150
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 0,
              "y": 1
            },
            "id": 23,
            "options": {
              "cellHeight": "sm",
              "footer": {
                "countRows": false,
                "fields": "",
                "reducer": [
                  "sum"
                ],
                "show": false
              },
              "showHeader": true,
              "sortBy": [
                {
                  "desc": true,
                  "displayName": "Rate"
                }
              ]
            },
            "pluginVersion": "11.6.0+security-01",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "ee55cp459sa9sd"
                },
                "disableTextWrap": false,
                "editorMode": "code",
                "exemplar": false,
                "expr": "label_replace(\n    max (target_info{job=\"$service\", environment=\"$namespace\"}) by (k8s_pod_name, container_image_tag),\n    \"service_instance_id\", \"$1\", \"k8s_pod_name\", \"(.*)\"\n)\n\nor \n\nlabel_replace(\n    max (jvm_info{service=\"$service\", namespace=\"$namespace\"}) by (pod), \n    \"service_instance_id\", \"$1\", \"pod\", \"(.+)\"\n)",
                "format": "table",
                "fullMetaSearch": false,
                "includeNullMetadata": true,
                "instant": true,
                "legendFormat": "__auto",
                "range": false,
                "refId": "Pod",
                "useBackend": false
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "ee55cp459sa9sd"
                },
                "editorMode": "code",
                "exemplar": false,
                "expr": "jvm_threads_count{job=\"$service\", environment=\"$namespace\"}\n\nor \n\nlabel_replace(\n    jvm_threads_live_threads{service=\"$service\", namespace=\"$namespace\"},\n    \"service_instance_id\", \"$1\", \"pod\", \"(.+)\"\n)",
                "format": "table",
                "hide": false,
                "instant": true,
                "legendFormat": "__auto",
                "range": false,
                "refId": "Threads"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "ee55cp459sa9sd"
                },
                "editorMode": "code",
                "exemplar": false,
                "expr": "sum by(service_instance_id) (jvm_memory_used_bytes{job=\"$service\", jvm_memory_type=\"heap\", environment=\"$namespace\"})*100/sum by(service_instance_id) (jvm_memory_max_bytes{job=\"$service\", jvm_memory_type=\"heap\", environment=\"$namespace\"})\n\nor \n\nlabel_replace(\n    sum by(pod) (jvm_memory_used_bytes{service=\"$service\", area=\"heap\", namespace=\"$namespace\"})*100/sum by(pod) (jvm_memory_max_bytes{service=\"$service\", area=\"heap\", namespace=\"$namespace\"}),\n    \"service_instance_id\", \"$1\", \"pod\", \"(.+)\"\n)",
                "format": "table",
                "hide": false,
                "instant": true,
                "legendFormat": "__auto",
                "range": false,
                "refId": "Heap"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "ee55cp459sa9sd"
                },
                "editorMode": "code",
                "exemplar": false,
                "expr": "sum by(service_instance_id) (increase(http_server_request_duration_sum{service_name=\"$service\", environment=\"$namespace\"}[$__rate_interval])) / sum by(service_instance_id) (increase(http_server_request_duration_count{service_name=\"$service\", environment=\"$namespace\"}[$__rate_interval]))\n\nor \n\nlabel_replace(\n    sum by(pod) (increase(http_server_requests_seconds_sum{service=\"$service\", namespace=\"$namespace\"}[$__rate_interval])) / sum by(pod) (increase(http_server_requests_seconds_count{service=\"$service\", namespace=\"$namespace\"}[$__rate_interval])),\n    \"service_instance_id\", \"$1\", \"pod\", \"(.+)\"\n)",
                "format": "table",
                "hide": false,
                "instant": true,
                "legendFormat": "__auto",
                "range": false,
                "refId": "Latency"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "ee55cp459sa9sd"
                },
                "editorMode": "code",
                "exemplar": false,
                "expr": " sum by(service_instance_id) (60 * rate(http_server_request_duration_count{service_name=\"$service\", environment=\"$namespace\"}[$__rate_interval]))\n\n or \n\nlabel_replace(\n    sum by(pod) (60 * rate(http_server_requests_seconds_count{service=\"$service\", namespace=\"$namespace\"}[$__rate_interval])),\n    \"service_instance_id\", \"$1\", \"pod\", \"(.+)\"\n)",
                "format": "table",
                "hide": false,
                "instant": true,
                "legendFormat": "__auto",
                "range": false,
                "refId": "Throughput"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "ee55cp459sa9sd"
                },
                "editorMode": "code",
                "exemplar": false,
                "expr": "time() - (label_replace(\n    max (process_start_time_seconds{job=\"$service\", namespace=\"$namespace\"}) by (pod),\n    \"service_instance_id\", \"$1\", \"pod\", \"(.+)\"\n)\n\nor\n\nmax (process_start_time_seconds{service_name=\"$service\", environment=\"$namespace\"}) by (service_instance_id)\n)",
                "format": "table",
                "hide": false,
                "instant": true,
                "legendFormat": "__auto",
                "range": false,
                "refId": "Uptime"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "ee55cp459sa9sd"
                },
                "editorMode": "code",
                "exemplar": false,
                "expr": "label_replace(\n    count by(k8s_pod_name, process_runtime_version) (\n        target_info{environment=\"$namespace\", job=\"$service\"}\n    ), \n    \"service_instance_id\", \"$1\", \"k8s_pod_name\", \"(.*)\"\n)\n\nor \n\nlabel_replace(\n    label_replace(\n        count by (pod, version) (jvm_info{namespace=\"$namespace\", service=\"$service\"}), \n        \"service_instance_id\", \"$1\", \"pod\", \"(.+)\"), \n    \"process_runtime_version\", \"$1\", \"version\", \"(.+)\"\n)",
                "format": "table",
                "hide": false,
                "instant": true,
                "legendFormat": "__auto",
                "range": false,
                "refId": "Java"
              }
            ],
            "title": "Service Instances Overview",
            "transformations": [
              {
                "id": "joinByField",
                "options": {
                  "byField": "service_instance_id",
                  "mode": "outer"
                }
              },
              {
                "id": "filterFieldsByName",
                "options": {
                  "include": {
                    "names": [
                      "service_instance_id",
                      "Value #Latency",
                      "Value #Throughput",
                      "Value #Uptime",
                      "process_runtime_version",
                      "container_image_tag"
                    ]
                  }
                }
              },
              {
                "id": "organize",
                "options": {
                  "excludeByName": {
                    "Time": true,
                    "Time 2": true,
                    "Time 3": true,
                    "Time 4": true,
                    "Value": true,
                    "__name__": true,
                    "container": true,
                    "container 2": true,
                    "endpoint": true,
                    "endpoint 2": true,
                    "env": true,
                    "env 2": true,
                    "instance": true,
                    "instance 2": true,
                    "job": true,
                    "job 2": true,
                    "namespace": true,
                    "namespace 2": true,
                    "pod": false,
                    "runtime": true,
                    "service": true,
                    "service 2": true,
                    "service_name": true,
                    "service_name 2": true,
                    "vendor": true
                  },
                  "includeByName": {},
                  "indexByName": {
                    "Value #Latency": 2,
                    "Value #Throughput": 1,
                    "Value #Uptime": 3,
                    "process_runtime_version": 4,
                    "service_instance_id": 0
                  },
                  "renameByName": {
                    "Value #B": "Threads",
                    "Value #C": "Heap used",
                    "Value #D": "Latency",
                    "Value #Heap": "Heap",
                    "Value #Latency": "Duration, Avg",
                    "Value #Threads": "Threads",
                    "Value #Throughput": "Rate",
                    "Value #Uptime": "Uptime",
                    "application": "Service",
                    "container_image_tag": "App Version",
                    "pod": "Pod",
                    "process_runtime_version": "JVM",
                    "service_instance_id": "Instance ID",
                    "service_version 1": "App Version",
                    "service_version 2": "App Version",
                    "version": "Java version"
                  }
                }
              }
            ],
            "type": "table"
          },
          {
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 9,
              "x": 12,
              "y": 1
            },
            "id": 34,
            "options": {
              "includeVars": true,
              "keepTime": true,
              "maxItems": 10,
              "query": "",
              "showFolderNames": true,
              "showHeadings": false,
              "showRecentlyViewed": false,
              "showSearch": true,
              "showStarred": false,
              "tags": [
                "${service}"
              ]
            },
            "pluginVersion": "11.6.0+security-01",
            "title": "Service dashboards",
            "type": "dashlist"
          }
        ],
        "title": "Overview",
        "type": "row"
      },
      {
        "collapsed": false,
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 1
        },
        "id": 59,
        "panels": [],
        "title": "Scheduler Monitoring",
        "type": "row"
      },
      {
        "datasource": {
          "type": "prometheus",
          "uid": "ee55cp459sa9sd"
        },
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "",
              "axisPlacement": "auto",
              "barAlignment": 0,
              "barWidthFactor": 0.6,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "insertNulls": false,
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "auto",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "area"
              }
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green"
                },
                {
                  "color": "yellow",
                  "value": 1000
                },
                {
                  "color": "dark-orange",
                  "value": 5000
                },
                {
                  "color": "red",
                  "value": 10000
                }
              ]
            }
          },
          "overrides": []
        },
        "gridPos": {
          "h": 7,
          "w": 12,
          "x": 0,
          "y": 2
        },
        "id": 50,
        "options": {
          "legend": {
            "calcs": [],
            "displayMode": "list",
            "placement": "bottom",
            "showLegend": true
          },
          "tooltip": {
            "hideZeros": false,
            "mode": "single",
            "sort": "none"
          }
        },
        "pluginVersion": "12.0.2",
        "targets": [
          {
            "editorMode": "code",
            "expr": "scheduled_tickets_queue_size",
            "legendFormat": "__auto",
            "range": true,
            "refId": "A"
          }
        ],
        "title": "Scheduler Tickets Queue Size",
        "type": "timeseries"
      },
      {
        "datasource": {
          "type": "prometheus",
          "uid": "ee55cp459sa9sd"
        },
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "",
              "axisPlacement": "auto",
              "barAlignment": 0,
              "barWidthFactor": 0.6,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "insertNulls": false,
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "auto",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "fieldMinMax": false,
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green"
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            }
          },
          "overrides": []
        },
        "gridPos": {
          "h": 7,
          "w": 6,
          "x": 12,
          "y": 2
        },
        "id": 49,
        "options": {
          "legend": {
            "calcs": [],
            "displayMode": "list",
            "placement": "bottom",
            "showLegend": true
          },
          "tooltip": {
            "hideZeros": false,
            "mode": "single",
            "sort": "none"
          }
        },
        "pluginVersion": "12.0.2",
        "targets": [
          {
            "disableTextWrap": false,
            "editorMode": "code",
            "exemplar": false,
            "expr": "startup_loaded_tickets_count",
            "format": "time_series",
            "fullMetaSearch": false,
            "includeNullMetadata": false,
            "instant": false,
            "interval": "",
            "legendFormat": "__auto",
            "range": true,
            "refId": "A",
            "useBackend": false
          }
        ],
        "title": "Tickets Loaded Since Startup",
        "type": "timeseries"
      },
      {
        "datasource": {
          "type": "prometheus",
          "uid": "ee55cp459sa9sd"
        },
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "",
              "axisPlacement": "auto",
              "barAlignment": 0,
              "barWidthFactor": 0.6,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "insertNulls": false,
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "auto",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green"
                },
                {
                  "color": "yellow",
                  "value": 1000
                },
                {
                  "color": "dark-orange",
                  "value": 5000
                },
                {
                  "color": "red",
                  "value": 10000
                }
              ]
            }
          },
          "overrides": []
        },
        "gridPos": {
          "h": 7,
          "w": 12,
          "x": 0,
          "y": 9
        },
        "id": 58,
        "options": {
          "legend": {
            "calcs": [],
            "displayMode": "list",
            "placement": "bottom",
            "showLegend": true
          },
          "tooltip": {
            "hideZeros": false,
            "mode": "single",
            "sort": "none"
          }
        },
        "pluginVersion": "12.0.2",
        "targets": [
          {
            "editorMode": "code",
            "expr": "rate(ticket_dispatch_scheduler_scheduled_tickets_queue_size[1m]) * 60",
            "legendFormat": "__auto",
            "range": true,
            "refId": "A"
          }
        ],
        "title": "Scheduler Tickets Queue Size Growth Rate",
        "type": "timeseries"
      },
      {
        "datasource": {
          "type": "prometheus",
          "uid": "ee55cp459sa9sd"
        },
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "",
              "axisPlacement": "auto",
              "barAlignment": 0,
              "barWidthFactor": 0.6,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "insertNulls": false,
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "auto",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green"
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            }
          },
          "overrides": []
        },
        "gridPos": {
          "h": 8,
          "w": 12,
          "x": 12,
          "y": 9
        },
        "id": 51,
        "options": {
          "legend": {
            "calcs": [],
            "displayMode": "list",
            "placement": "bottom",
            "showLegend": true
          },
          "tooltip": {
            "hideZeros": false,
            "mode": "single",
            "sort": "none"
          }
        },
        "pluginVersion": "12.0.2",
        "targets": [
          {
            "disableTextWrap": false,
            "editorMode": "code",
            "expr": "triggered_notifications_count{job=\"ticket-dispatch-scheduler-service\"}",
            "fullMetaSearch": false,
            "includeNullMetadata": true,
            "legendFormat": "__auto",
            "range": true,
            "refId": "A",
            "useBackend": false
          }
        ],
        "title": "Notifications Triggered",
        "type": "timeseries"
      },
      {
        "datasource": {
          "type": "prometheus",
          "uid": "ee55cp459sa9sd"
        },
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "",
              "axisPlacement": "auto",
              "barAlignment": 0,
              "barWidthFactor": 0.6,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "insertNulls": false,
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "auto",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "area"
              }
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green"
                },
                {
                  "color": "yellow",
                  "value": 15
                },
                {
                  "color": "red",
                  "value": 30
                }
              ]
            }
          },
          "overrides": []
        },
        "gridPos": {
          "h": 8,
          "w": 12,
          "x": 0,
          "y": 16
        },
        "id": 54,
        "options": {
          "legend": {
            "calcs": [],
            "displayMode": "list",
            "placement": "bottom",
            "showLegend": true
          },
          "tooltip": {
            "hideZeros": false,
            "mode": "single",
            "sort": "none"
          }
        },
        "pluginVersion": "12.0.2",
        "targets": [
          {
            "editorMode": "code",
            "expr": "notification_latency_max",
            "legendFormat": "__auto",
            "range": true,
            "refId": "A"
          }
        ],
        "title": "Notification Latency Max",
        "type": "timeseries"
      },
      {
        "datasource": {
          "type": "prometheus",
          "uid": "ee55cp459sa9sd"
        },
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "",
              "axisPlacement": "auto",
              "barAlignment": 0,
              "barWidthFactor": 0.6,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "insertNulls": false,
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "auto",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green"
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            }
          },
          "overrides": []
        },
        "gridPos": {
          "h": 8,
          "w": 12,
          "x": 12,
          "y": 17
        },
        "id": 52,
        "options": {
          "legend": {
            "calcs": [],
            "displayMode": "list",
            "placement": "bottom",
            "showLegend": true
          },
          "tooltip": {
            "hideZeros": false,
            "mode": "single",
            "sort": "none"
          }
        },
        "pluginVersion": "12.0.2",
        "targets": [
          {
            "disableTextWrap": false,
            "editorMode": "code",
            "exemplar": false,
            "expr": "rate(ticket_dispatch_scheduler_triggered_notifications_count[1m])*60",
            "format": "time_series",
            "fullMetaSearch": false,
            "includeNullMetadata": true,
            "instant": false,
            "legendFormat": "__auto",
            "range": true,
            "refId": "A",
            "useBackend": false
          }
        ],
        "title": "Notification Rate",
        "type": "timeseries"
      },
      {
        "datasource": {
          "type": "prometheus",
          "uid": "ee55cp459sa9sd"
        },
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "",
              "axisPlacement": "auto",
              "barAlignment": 0,
              "barWidthFactor": 0.6,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "insertNulls": false,
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "auto",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green"
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            }
          },
          "overrides": []
        },
        "gridPos": {
          "h": 8,
          "w": 12,
          "x": 0,
          "y": 24
        },
        "id": 53,
        "options": {
          "legend": {
            "calcs": [],
            "displayMode": "list",
            "placement": "bottom",
            "showLegend": true
          },
          "tooltip": {
            "hideZeros": false,
            "mode": "single",
            "sort": "none"
          }
        },
        "pluginVersion": "12.0.2",
        "targets": [
          {
            "editorMode": "code",
            "expr": "rate(ticket_dispatch_scheduler_notification_latency_sum[1m]) / rate(ticket_dispatch_scheduler_notification_latency_count[1m])",
            "legendFormat": "__auto",
            "range": true,
            "refId": "A"
          }
        ],
        "title": "Notification Latency",
        "type": "timeseries"
      },
      {
        "datasource": {
          "type": "prometheus",
          "uid": "ee55cp459sa9sd"
        },
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "",
              "axisPlacement": "auto",
              "barAlignment": 0,
              "barWidthFactor": 0.6,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "insertNulls": false,
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "auto",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green"
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            }
          },
          "overrides": []
        },
        "gridPos": {
          "h": 8,
          "w": 12,
          "x": 12,
          "y": 25
        },
        "id": 57,
        "options": {
          "legend": {
            "calcs": [],
            "displayMode": "list",
            "placement": "bottom",
            "showLegend": true
          },
          "tooltip": {
            "hideZeros": false,
            "mode": "single",
            "sort": "none"
          }
        },
        "pluginVersion": "12.0.2",
        "targets": [
          {
            "disableTextWrap": false,
            "editorMode": "code",
            "exemplar": false,
            "expr": "sum(increase(ticket_dispatch_scheduler_triggered_notifications_count[1m]))",
            "format": "time_series",
            "fullMetaSearch": false,
            "includeNullMetadata": true,
            "instant": false,
            "legendFormat": "__auto",
            "range": true,
            "refId": "A",
            "useBackend": false
          }
        ],
        "title": "Notifications Increase",
        "type": "timeseries"
      },
      {
        "datasource": {
          "type": "prometheus",
          "uid": "ee55cp459sa9sd"
        },
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "",
              "axisPlacement": "auto",
              "barAlignment": 0,
              "barWidthFactor": 0.6,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "insertNulls": false,
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "auto",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green"
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            }
          },
          "overrides": []
        },
        "gridPos": {
          "h": 8,
          "w": 12,
          "x": 0,
          "y": 32
        },
        "id": 55,
        "options": {
          "legend": {
            "calcs": [],
            "displayMode": "list",
            "placement": "bottom",
            "showLegend": true
          },
          "tooltip": {
            "hideZeros": false,
            "mode": "single",
            "sort": "none"
          }
        },
        "pluginVersion": "12.0.2",
        "targets": [
          {
            "disableTextWrap": false,
            "editorMode": "code",
            "expr": "ticket_notification_completed",
            "fullMetaSearch": false,
            "includeNullMetadata": true,
            "legendFormat": "__auto",
            "range": true,
            "refId": "A",
            "useBackend": false
          }
        ],
        "title": "Completed Tickets (all notifications done)",
        "type": "timeseries"
      },
      {
        "datasource": {
          "type": "prometheus",
          "uid": "ee55cp459sa9sd"
        },
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "",
              "axisPlacement": "auto",
              "barAlignment": 0,
              "barWidthFactor": 0.6,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "insertNulls": false,
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "auto",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green"
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            }
          },
          "overrides": []
        },
        "gridPos": {
          "h": 8,
          "w": 12,
          "x": 0,
          "y": 40
        },
        "id": 56,
        "options": {
          "legend": {
            "calcs": [],
            "displayMode": "list",
            "placement": "bottom",
            "showLegend": true
          },
          "tooltip": {
            "hideZeros": false,
            "mode": "single",
            "sort": "none"
          }
        },
        "pluginVersion": "12.0.2",
        "targets": [
          {
            "disableTextWrap": false,
            "editorMode": "code",
            "expr": "rate(ticket_dispatch_scheduler_ticket_notification_completed[1m])",
            "fullMetaSearch": false,
            "includeNullMetadata": true,
            "legendFormat": "__auto",
            "range": true,
            "refId": "A",
            "useBackend": false
          }
        ],
        "title": "Completed Tickets Rate (all notifications done)",
        "type": "timeseries"
      },
      {
        "collapsed": true,
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 48
        },
        "id": 19,
        "panels": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "ee55cp459sa9sd"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "axisWidth": 100,
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 2,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "dashed"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    }
                  ]
                },
                "unit": "bytes"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Average"
                  },
                  "properties": [
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    },
                    {
                      "id": "custom.lineWidth",
                      "value": 1
                    },
                    {
                      "id": "custom.pointSize",
                      "value": 1
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 6,
              "w": 12,
              "x": 0,
              "y": 56
            },
            "id": 22,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "11.6.0+security-01",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "ee55cp459sa9sd"
                },
                "editorMode": "code",
                "expr": "avg(sum by(service_instance_id) (jvm_memory_used{environment=\"$namespace\", service_name=\"$service\", jvm_memory_type=\"heap\"}))\n\nor \n\navg(sum by(pod) (jvm_memory_used_bytes{namespace=\"$namespace\", service=\"$service\", area=\"heap\"}))",
                "hide": true,
                "instant": false,
                "legendFormat": "Average",
                "range": true,
                "refId": "A"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "ee55cp459sa9sd"
                },
                "editorMode": "code",
                "expr": "sum by(service_instance_id) (jvm_memory_used{environment=\"$namespace\", service_name=\"$service\", jvm_memory_type=\"heap\"})\n\nor \n\nsum by(pod) (jvm_memory_used_bytes{namespace=\"$namespace\", service=\"$service\", area=\"heap\"})",
                "hide": false,
                "instant": false,
                "legendFormat": "{{pod}}",
                "range": true,
                "refId": "B"
              }
            ],
            "title": "JVM Heap per pod",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "ee55cp459sa9sd"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "fixedColor": "yellow",
                  "mode": "palette-classic",
                  "seriesBy": "last"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "axisWidth": 100,
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 2
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 6,
              "w": 12,
              "x": 12,
              "y": 56
            },
            "id": 48,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "11.6.0+security-01",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "ee55cp459sa9sd"
                },
                "disableTextWrap": false,
                "editorMode": "code",
                "exemplar": false,
                "expr": "sum by(jvm_gc_action) (increase(jvm_gc_duration_count{environment=\"$namespace\", service_name=\"$service\"}[$__rate_interval]))",
                "fullMetaSearch": false,
                "includeNullMetadata": true,
                "instant": false,
                "legendFormat": "__auto",
                "range": true,
                "refId": "A",
                "useBackend": false
              }
            ],
            "title": "GC events count",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "ee55cp459sa9sd"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "axisWidth": 100,
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "dashed"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    }
                  ]
                },
                "unit": "bytes"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Average"
                  },
                  "properties": [
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    },
                    {
                      "id": "custom.lineWidth",
                      "value": 1
                    },
                    {
                      "id": "custom.pointSize",
                      "value": 1
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 6,
              "w": 12,
              "x": 0,
              "y": 62
            },
            "id": 21,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "11.6.0+security-01",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "ee55cp459sa9sd"
                },
                "editorMode": "code",
                "expr": "avg(sum by(service_instance_id) (jvm_memory_used_bytes{environent=\"$namespace\", service_name=\"$service\", jvm_memory_type=\"non_heap\"}))\n\nor \n\navg(sum by(pod) (jvm_memory_used_bytes{namespace=\"$namespace\", service=\"$service\", area=\"nonheap\"}))",
                "hide": false,
                "instant": false,
                "legendFormat": "Average",
                "range": true,
                "refId": "A"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "ee55cp459sa9sd"
                },
                "editorMode": "code",
                "expr": "sum by(service_instance_id) (jvm_memory_used{environment=\"$namespace\", service_name=\"$service\", jvm_memory_type=\"non_heap\"})\n\nor \n\nsum by(pod) (jvm_memory_used_bytes{namespace=\"$namespace\", service=\"$service\", area=\"nonheap\"})",
                "hide": false,
                "instant": false,
                "legendFormat": "{{pod}}",
                "range": true,
                "refId": "B"
              }
            ],
            "title": "JVM Non-heap",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "ee55cp459sa9sd"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "fixedColor": "yellow",
                  "mode": "palette-classic",
                  "seriesBy": "last"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "axisWidth": 100,
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 2
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 6,
              "w": 12,
              "x": 12,
              "y": 62
            },
            "id": 24,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "11.6.0+security-01",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "ee55cp459sa9sd"
                },
                "disableTextWrap": false,
                "editorMode": "code",
                "expr": "max by(service_instance_id) (increase(jvm_gc_duration_sum{environment=\"$namespace\", service_name=\"$service\", jvm_gc_name=\"G1 Young Generation\"}[1m]))\n\nor \n\nmax by(pod) (increase(jvm_gc_pause_seconds_sum{namespace=\"$namespace\", service=\"$service\", action=\"end of minor GC\"}[1m]))",
                "fullMetaSearch": false,
                "includeNullMetadata": true,
                "instant": false,
                "legendFormat": "__auto",
                "range": true,
                "refId": "A",
                "useBackend": false
              }
            ],
            "title": "Minor GC Max  duration",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "ee55cp459sa9sd"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 5,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    }
                  ]
                },
                "unit": "bytes"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 6,
              "w": 12,
              "x": 0,
              "y": 68
            },
            "id": 46,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "11.6.0+security-01",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "ee55cp459sa9sd"
                },
                "editorMode": "code",
                "expr": "sum (container_memory_working_set_bytes{container!=\"POD\", container=\"$container\", image!=\"\", namespace=\"$namespace\"}) by (pod)",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{container}}",
                "range": true,
                "refId": "A",
                "step": 10
              }
            ],
            "title": "Memory Usage",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "ee55cp459sa9sd"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "fixedColor": "yellow",
                  "mode": "palette-classic",
                  "seriesBy": "last"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 2
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 6,
              "w": 12,
              "x": 12,
              "y": 68
            },
            "id": 25,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "11.6.0+security-01",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "ee55cp459sa9sd"
                },
                "disableTextWrap": false,
                "editorMode": "code",
                "expr": "max by(service_instance_id) (increase(jvm_gc_duration_sum{environment=\"$namespace\", service_name=\"$service\", jvm_gc_name=\"G1 Old Generation\"}[1m]))\n\nor \n\nmax by(pod) (increase(jvm_gc_pause_seconds_sum{namespace=\"$namespace\", service=\"$service\", action=\"end of major GC\"}[1m]))",
                "fullMetaSearch": false,
                "includeNullMetadata": true,
                "instant": false,
                "legendFormat": "__auto",
                "range": true,
                "refId": "A",
                "useBackend": false
              }
            ],
            "title": "Full GC Max  duration",
            "type": "timeseries"
          }
        ],
        "title": "JVM \u0026 Memory",
        "type": "row"
      },
      {
        "collapsed": true,
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 49
        },
        "id": 17,
        "panels": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "ee55cp459sa9sd"
            },
            "description": "",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "axisWidth": 100,
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 2,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "dashed"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    }
                  ]
                },
                "unit": "CPU"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Average"
                  },
                  "properties": [
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    },
                    {
                      "id": "custom.lineWidth",
                      "value": 1
                    },
                    {
                      "id": "custom.pointSize",
                      "value": 1
                    },
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "green",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "HPA target"
                  },
                  "properties": [
                    {
                      "id": "custom.lineWidth",
                      "value": 2
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 0
                    },
                    {
                      "id": "custom.lineStyle",
                      "value": {
                        "dash": [
                          10,
                          10
                        ],
                        "fill": "dash"
                      }
                    },
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "dark-purple",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "CPU requests"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "dark-green",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.lineStyle",
                      "value": {
                        "dash": [
                          10,
                          10
                        ],
                        "fill": "dash"
                      }
                    },
                    {
                      "id": "custom.lineWidth",
                      "value": 2
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "CPU limits"
                  },
                  "properties": [
                    {
                      "id": "custom.lineStyle",
                      "value": {
                        "dash": [
                          10,
                          10
                        ],
                        "fill": "dash"
                      }
                    },
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "dark-red",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.lineWidth",
                      "value": 2
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 11,
              "w": 12,
              "x": 0,
              "y": 57
            },
            "id": 13,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "11.6.0+security-01",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "ee55cp459sa9sd"
                },
                "disableTextWrap": false,
                "editorMode": "code",
                "expr": "max(kube_pod_container_resource_limits{container=\"$container\", resource=\"cpu\", namespace=\"$namespace\", pod=~\"$pods|\"})",
                "fullMetaSearch": false,
                "hide": false,
                "includeNullMetadata": true,
                "instant": false,
                "legendFormat": "CPU limits",
                "range": true,
                "refId": "CPULimits",
                "useBackend": false
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "ee55cp459sa9sd"
                },
                "editorMode": "code",
                "expr": "max(kube_pod_container_resource_requests{container=\"$container\", resource=\"cpu\", namespace=\"$namespace\", pod=~\"$pods|\"})",
                "hide": false,
                "instant": false,
                "legendFormat": "CPU requests",
                "range": true,
                "refId": "CPURequests"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "ee55cp459sa9sd"
                },
                "disableTextWrap": false,
                "editorMode": "code",
                "expr": "avg(rate(container_cpu_usage_seconds_total{container=\"$container\", namespace=\"$namespace\", pod=~\"$pods|\"}[$__rate_interval]))",
                "fullMetaSearch": false,
                "includeNullMetadata": true,
                "instant": false,
                "legendFormat": "Average",
                "range": true,
                "refId": "CPUAverage",
                "useBackend": false
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "ee55cp459sa9sd"
                },
                "editorMode": "code",
                "expr": "max by(pod) (rate(container_cpu_usage_seconds_total{container=\"$container\", namespace=\"$namespace\", pod=~\"$pods|\"}[$__rate_interval]))",
                "hide": false,
                "instant": false,
                "legendFormat": "__auto",
                "range": true,
                "refId": "CPUPerPod"
              }
            ],
            "title": "Average CPU usage",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "ee55cp459sa9sd"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "axisWidth": 100,
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 14,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "decimals": 0,
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 5,
              "w": 12,
              "x": 12,
              "y": 57
            },
            "id": 4,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "11.6.0+security-01",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "ee55cp459sa9sd"
                },
                "editorMode": "code",
                "expr": "max(kube_deployment_status_replicas_available{namespace=\"$namespace\", deployment=\"$deployment\"})\n\nor \n\nmax(kube_deployment_status_replicas_available{namespace=\"$namespace\", deployment=\"$service\"})",
                "instant": false,
                "legendFormat": "Available",
                "range": true,
                "refId": "A"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "ee55cp459sa9sd"
                },
                "editorMode": "code",
                "expr": "sum(kube_deployment_status_replicas_ready{namespace=\"$namespace\", deployment=\"$deployment\"})\n\nor \n\nsum(kube_deployment_status_replicas_ready{namespace=\"$namespace\", deployment=\"$service\"})",
                "hide": false,
                "instant": false,
                "legendFormat": "Ready",
                "range": true,
                "refId": "B"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "ee55cp459sa9sd"
                },
                "editorMode": "code",
                "expr": "sum(kube_deployment_status_replicas_unavailable{namespace=\"$namespace\", deployment=\"$deployment\"})\n\nor \n\nsum(kube_deployment_status_replicas_unavailable{namespace=\"$namespace\", deployment=\"$service\"})",
                "hide": false,
                "instant": false,
                "legendFormat": "Unvailable",
                "range": true,
                "refId": "C"
              }
            ],
            "title": "HPA",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "ee55cp459sa9sd"
            },
            "description": "",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "axisWidth": 100,
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 2,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "dashed"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 24,
              "x": 0,
              "y": 68
            },
            "id": 26,
            "maxPerRow": 2,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "11.6.0+security-01",
            "repeat": "hpa_metric_name",
            "repeatDirection": "h",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "ee55cp459sa9sd"
                },
                "editorMode": "code",
                "exemplar": false,
                "expr": "label_replace(\n  max(kube_horizontalpodautoscaler_spec_target_metric{horizontalpodautoscaler=\"$service\",namespace=\"$namespace\",metric_name=\"$hpa_metric_name\", metric_target_type=\"utilization\"}) by (metric_name, metric_target_type),\n  \"metric_unit\", \n  \"Percent (0-100)\", \n  \"metric_target_type\", \n  \".*\"\n) or label_replace(\n  max(kube_horizontalpodautoscaler_spec_target_metric{horizontalpodautoscaler=\"$service\",namespace=\"$namespace\",metric_name=\"$hpa_metric_name\", metric_target_type!=\"utilization\"}) by (metric_name, metric_target_type),\n  \"metric_unit\", \n  \"Number\", \n  \"metric_target_type\", \n  \".+\"\n)",
                "hide": false,
                "instant": false,
                "legendFormat": "Target: {{metric_name}} {{metric_target_type}}",
                "range": true,
                "refId": "Metric Target"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "ee55cp459sa9sd"
                },
                "editorMode": "code",
                "expr": "max (kube_horizontalpodautoscaler_status_target_metric{horizontalpodautoscaler=\"$service\",namespace=\"$namespace\", metric_name=\"$hpa_metric_name\"}) by (metric_name, metric_target_type)",
                "hide": false,
                "instant": false,
                "legendFormat": "Status: {{metric_name}} {{metric_target_type}}",
                "range": true,
                "refId": "Metric Value"
              }
            ],
            "title": "HPA metric status for $hpa_metric_name",
            "transformations": [
              {
                "id": "rowsToFields",
                "options": {
                  "mappings": [
                    {
                      "fieldName": "Percent (0-100)",
                      "handlerKey": "unit"
                    }
                  ]
                }
              }
            ],
            "type": "timeseries"
          }
        ],
        "title": "K8s \u0026 Resources",
        "type": "row"
      },
      {
        "collapsed": true,
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 50
        },
        "id": 37,
        "panels": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "ee55cp459sa9sd"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 5,
                  "gradientMode": "opacity",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineStyle": {
                    "fill": "solid"
                  },
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    }
                  ]
                },
                "unit": "reqpm"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Total RPM"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "blue",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 325
            },
            "id": 7,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "11.6.0+security-01",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "ee55cp459sa9sd"
                },
                "editorMode": "code",
                "expr": "traefik_public_service_rpm:per_target{target_namespace=\"$namespace\", target_service=\"$deployment\"}\n\nor \n\ntraefik_public_service_rpm:per_target{target_namespace=\"$namespace\", target_service=\"$service\"}",
                "instant": false,
                "legendFormat": "RPM per pod",
                "range": true,
                "refId": "A"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "ee55cp459sa9sd"
                },
                "editorMode": "code",
                "expr": "sum(kube_deployment_status_replicas_ready{namespace=\"$namespace\", deployment=\"$deployment\"}) * \n    sum(\n        traefik_public_service_rpm:per_target{target_namespace=\"$namespace\", target_service=\"$deployment\"}\n    )\n\nor \n\nsum(kube_deployment_status_replicas_ready{namespace=\"$namespace\", deployment=\"$service\"}) * \n    sum(\n        traefik_public_service_rpm:per_target{target_namespace=\"$namespace\", target_service=\"$service\"}\n    )",
                "hide": false,
                "instant": false,
                "legendFormat": "Total RPM",
                "range": true,
                "refId": "B"
              }
            ],
            "title": "Throughput - Public",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "ee55cp459sa9sd"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 5,
                  "gradientMode": "opacity",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineStyle": {
                    "fill": "solid"
                  },
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "fieldMinMax": false,
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "reqpm"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Total RPM"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "blue",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 325
            },
            "id": 1,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "11.6.0+security-01",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "ee55cp459sa9sd"
                },
                "editorMode": "code",
                "expr": "traefik_internal_service_rpm:per_target{target_namespace=\"$namespace\", target_service=\"$deployment\"}\n\nor \n\ntraefik_internal_service_rpm:per_target{target_namespace=\"$namespace\", target_service=\"$service\"}",
                "instant": false,
                "legendFormat": "RPM per pod",
                "range": true,
                "refId": "A"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "ee55cp459sa9sd"
                },
                "editorMode": "code",
                "expr": "sum(kube_deployment_status_replicas_ready{namespace=\"$namespace\", deployment=\"$deployment\"}) * \n    sum(\n        traefik_internal_service_rpm:per_target{target_namespace=\"$namespace\", target_service=\"$deployment\"} \n    )\n\nor\n\nsum(kube_deployment_status_replicas_ready{namespace=\"$namespace\", deployment=\"$service\"}) * \n    sum(\n        traefik_internal_service_rpm:per_target{target_namespace=\"$namespace\", target_service=\"$service\"} \n    )",
                "hide": false,
                "instant": false,
                "legendFormat": "Total RPM",
                "range": true,
                "refId": "B"
              }
            ],
            "title": "Throughput - Internal",
            "type": "timeseries"
          }
        ],
        "title": "Load Balancer",
        "type": "row"
      },
      {
        "collapsed": true,
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 51
        },
        "id": 20,
        "panels": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "ee55cp459sa9sd"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 5,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineStyle": {
                    "fill": "solid"
                  },
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "fieldMinMax": false,
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "reqpm"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Total"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "semi-dark-blue",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "per pod"
                  },
                  "properties": [
                    {
                      "id": "custom.fillOpacity",
                      "value": 100
                    },
                    {
                      "id": "custom.lineWidth",
                      "value": 1
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 8,
              "w": 24,
              "x": 0,
              "y": 326
            },
            "id": 9,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "11.6.0+security-01",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "ee55cp459sa9sd"
                },
                "editorMode": "code",
                "expr": "avg (sum by(service_instance_id) (increase(http_server_request_duration_count{service_name=\"$service\", environment='$namespace'}[1m])))\n\nor \n\navg (sum by(pod) (increase(http_server_requests_seconds_count{service=\"$service\", env='$namespace'}[1m])))",
                "hide": false,
                "instant": false,
                "legendFormat": "RPM per pod",
                "range": true,
                "refId": "A"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "ee55cp459sa9sd"
                },
                "disableTextWrap": false,
                "editorMode": "code",
                "expr": "sum (increase(http_server_request_duration_count{service_name=\"$service\", environment='$namespace'}[1m]))\n\nor \n\nsum (increase(http_server_requests_seconds_count{service=\"$service\", namespace='$namespace'}[1m]))",
                "fullMetaSearch": false,
                "hide": false,
                "includeNullMetadata": true,
                "instant": false,
                "legendFormat": "Total",
                "range": true,
                "refId": "B",
                "useBackend": false
              }
            ],
            "title": "Rate",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "ee55cp459sa9sd"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "axisWidth": 100,
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 5,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineStyle": {
                    "fill": "solid"
                  },
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "fieldMinMax": false,
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "reqpm"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Total"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "semi-dark-blue",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "per pod"
                  },
                  "properties": [
                    {
                      "id": "custom.fillOpacity",
                      "value": 100
                    },
                    {
                      "id": "custom.lineWidth",
                      "value": 1
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 8,
              "w": 8,
              "x": 0,
              "y": 334
            },
            "id": 11,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "11.6.0+security-01",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "ee55cp459sa9sd"
                },
                "editorMode": "code",
                "expr": "sum by (uri)(\n    label_replace(\n        increase(\n            http_server_request_duration_count{service_name=\"$service\", environment=\"$namespace\"}[$__rate_interval]),\n        \"uri\", \"$1\", \"http_route\", \"(.+)\"\n    )\n)\n\nor \n\nsum by (uri) (increase(http_server_requests_seconds_count{service=\"$service\"}[1m]))",
                "hide": false,
                "instant": false,
                "legendFormat": "__auto",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Request count per endpoint",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "ee55cp459sa9sd"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "axisWidth": 100,
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 7,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineStyle": {
                    "fill": "solid"
                  },
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "fieldMinMax": false,
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Total"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "semi-dark-blue",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "per pod"
                  },
                  "properties": [
                    {
                      "id": "custom.fillOpacity",
                      "value": 100
                    },
                    {
                      "id": "custom.lineWidth",
                      "value": 1
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 8,
              "w": 8,
              "x": 8,
              "y": 334
            },
            "id": 8,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "11.6.0+security-01",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "ee55cp459sa9sd"
                },
                "disableTextWrap": false,
                "editorMode": "code",
                "expr": "sum by (pod)(\n    label_replace(\n        increase(\n            http_server_request_duration_sum{service_name=\"$service\", environment=\"$namespace\"}[$__rate_interval]),\n        \"pod\", \"$1\", \"service_instance_id\", \"(.+)\"\n    )\n)\n\n/ sum by (pod)(\n    label_replace(\n        increase(\n            http_server_request_duration_count{service_name=\"$service\", environment=\"$namespace\"}[$__rate_interval]),\n        \"pod\", \"$1\", \"service_instance_id\", \"(.+)\"\n    )\n)\n\nor \n\nsum by(pod) (increase(http_server_requests_seconds_sum{service=\"$service\"}[$__rate_interval])) / sum by(pod) (increase(http_server_requests_seconds_count{service=\"$service\"}[$__rate_interval]))",
                "fullMetaSearch": false,
                "hide": false,
                "includeNullMetadata": true,
                "instant": false,
                "legendFormat": "__auto",
                "range": true,
                "refId": "A",
                "useBackend": false
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "ee55cp459sa9sd"
                },
                "disableTextWrap": false,
                "editorMode": "code",
                "expr": "sum(increase(http_server_request_duration_sum{service_name=\"$service\", environment=\"$namespace\"}[$__rate_interval])) / sum(increase(http_server_request_duration_count{service_name=\"$service\", environment=\"$namespace\"}[$__rate_interval]))\n\nor \n\nsum(increase(http_server_requests_seconds_sum{service=\"$service\"}[$__rate_interval])) / sum(increase(http_server_requests_seconds_count{service=\"$service\"}[$__rate_interval]))",
                "fullMetaSearch": false,
                "hide": false,
                "includeNullMetadata": true,
                "instant": false,
                "legendFormat": "Average duration",
                "range": true,
                "refId": "B",
                "useBackend": false
              }
            ],
            "title": "Duration, AVG",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "ee55cp459sa9sd"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "axisWidth": 100,
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 7,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineStyle": {
                    "fill": "solid"
                  },
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "fieldMinMax": false,
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Total"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "semi-dark-blue",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "per pod"
                  },
                  "properties": [
                    {
                      "id": "custom.fillOpacity",
                      "value": 100
                    },
                    {
                      "id": "custom.lineWidth",
                      "value": 1
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 8,
              "w": 8,
              "x": 16,
              "y": 334
            },
            "id": 10,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "11.6.0+security-01",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "ee55cp459sa9sd"
                },
                "editorMode": "code",
                "expr": "sum by (uri)(\n    label_replace(\n        increase(\n            http_server_request_duration_sum{service_name=\"$service\", environment=\"$namespace\"}[$__rate_interval]),\n        \"uri\", \"$1\", \"http_route\", \"(.+)\"\n    )\n)\n\n/ sum by (uri)(\n    label_replace(\n        increase(\n            http_server_request_duration_count{service_name=\"$service\", environment=\"$namespace\"}[$__rate_interval]),\n        \"uri\", \"$1\", \"http_route\", \"(.+)\"\n    )\n)\n\nor \n\nsum by (uri)(increase(http_server_requests_seconds_sum{service=\"$service\"}[$__rate_interval])) / sum by (uri) (increase(http_server_requests_seconds_count{service=\"$service\"}[$__rate_interval]))",
                "hide": false,
                "instant": false,
                "legendFormat": "__auto",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Request duration per endpoint",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "ee55cp459sa9sd"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "axisWidth": 100,
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 7,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineStyle": {
                    "fill": "solid"
                  },
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "fieldMinMax": false,
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Total"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "semi-dark-blue",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "per pod"
                  },
                  "properties": [
                    {
                      "id": "custom.fillOpacity",
                      "value": 100
                    },
                    {
                      "id": "custom.lineWidth",
                      "value": 1
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 8,
              "w": 8,
              "x": 0,
              "y": 342
            },
            "id": 14,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "11.6.0+security-01",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "ee55cp459sa9sd"
                },
                "editorMode": "code",
                "expr": "sum by (status)(\n    label_replace(\n        increase(\n            http_server_request_duration_count{service_name=\"$service\", environment=\"$namespace\"}[$__rate_interval]),\n        \"status\", \"$1\", \"http_response_status_code\", \"(.+)\"\n    )\n)\n\nor \n\nsum by (status)(increase(http_server_requests_seconds_count{service=\"$service\"}[$__rate_interval]))",
                "hide": false,
                "instant": false,
                "legendFormat": "__auto",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Request count by status",
            "type": "timeseries"
          }
        ],
        "title": "API",
        "type": "row"
      },
      {
        "collapsed": true,
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 52
        },
        "id": 28,
        "panels": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "ee55cp459sa9sd"
            },
            "description": "",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 30,
                  "gradientMode": "hue",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineStyle": {
                    "fill": "solid"
                  },
                  "lineWidth": 2,
                  "pointSize": 9,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "fieldMinMax": false,
                "mappings": [],
                "max": 1,
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 24,
              "x": 0,
              "y": 402
            },
            "id": 31,
            "maxPerRow": 2,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "repeat": "slo",
            "repeatDirection": "h",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "ee55cp459sa9sd"
                },
                "editorMode": "code",
                "expr": "1 - slo:sli_error:ratio_rate1h{\n    sloth_slo=\"$slo\"\n}",
                "instant": false,
                "legendFormat": "__auto",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "SLO - $slo",
            "type": "timeseries"
          }
        ],
        "title": "SLO [WIP]",
        "type": "row"
      },
      {
        "collapsed": true,
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 53
        },
        "id": 39,
        "panels": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "ee55cp459sa9sd"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 1,
                  "drawStyle": "bars",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 10,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "binBps"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 9,
              "w": 12,
              "x": 0,
              "y": 427
            },
            "id": 43,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "11.6.0+security-01",
            "targets": [
              {
                "disableTextWrap": false,
                "editorMode": "builder",
                "expr": "sum by(container) (rate(traefik_service_requests_bytes_total{target_namespace=\"$namespace\", target_service=\"$service\"}[$__rate_interval]))",
                "fullMetaSearch": false,
                "includeNullMetadata": true,
                "legendFormat": "__auto",
                "range": true,
                "refId": "A",
                "useBackend": false
              }
            ],
            "title": "Requests bytes",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "ee55cp459sa9sd"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 1,
                  "drawStyle": "bars",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 10,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "binBps"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 9,
              "w": 12,
              "x": 12,
              "y": 427
            },
            "id": 44,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "11.6.0+security-01",
            "targets": [
              {
                "disableTextWrap": false,
                "editorMode": "builder",
                "expr": "sum by(container) (rate(traefik_service_responses_bytes_total{target_namespace=\"$namespace\", target_service=\"$service\"}[$__rate_interval]))",
                "fullMetaSearch": false,
                "includeNullMetadata": true,
                "legendFormat": "__auto",
                "range": true,
                "refId": "A",
                "useBackend": false
              }
            ],
            "title": "Responses bytes",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "ee55cp459sa9sd"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineStyle": {
                    "fill": "solid"
                  },
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "reqpm"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 9,
              "w": 12,
              "x": 6,
              "y": 436
            },
            "id": 40,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "11.6.0+security-01",
            "targets": [
              {
                "disableTextWrap": false,
                "editorMode": "builder",
                "expr": "sum by(client) (increase(traces_service_graph_request_total{server=\"$service\", server_environment=\"$namespace\"}[1m]))",
                "fullMetaSearch": false,
                "includeNullMetadata": true,
                "legendFormat": "__auto",
                "range": true,
                "refId": "A",
                "useBackend": false
              }
            ],
            "title": "Service Clients",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "ee55cp459sa9sd"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "custom": {
                  "align": "auto",
                  "cellOptions": {
                    "type": "auto"
                  },
                  "inspect": false
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                }
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Connection Type"
                  },
                  "properties": [
                    {
                      "id": "custom.width",
                      "value": 150
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Throughput"
                  },
                  "properties": [
                    {
                      "id": "custom.width",
                      "value": 200
                    },
                    {
                      "id": "unit",
                      "value": "reqpm"
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Service"
                  },
                  "properties": [
                    {
                      "id": "links",
                      "value": [
                        {
                          "targetBlank": true,
                          "title": "Java Service Details",
                          "url": "d/java-service-details-otel/java-service-details-v2-wip?var-service=${__data.fields.Service}\u0026var-namespace=${namespace}\u0026${__url_time_range}"
                        }
                      ]
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Latency"
                  },
                  "properties": [
                    {
                      "id": "unit",
                      "value": "s"
                    },
                    {
                      "id": "custom.width",
                      "value": 200
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Errors count"
                  },
                  "properties": [
                    {
                      "id": "custom.width",
                      "value": 200
                    },
                    {
                      "id": "unit",
                      "value": "percent"
                    },
                    {
                      "id": "custom.cellOptions",
                      "value": {
                        "drawStyle": "line",
                        "fillOpacity": 14,
                        "gradientMode": "hue",
                        "hideValue": false,
                        "lineStyle": {
                          "dash": [
                            0,
                            10
                          ],
                          "fill": "solid"
                        },
                        "spanNulls": true,
                        "type": "sparkline"
                      }
                    },
                    {
                      "id": "noValue",
                      "value": "-"
                    },
                    {
                      "id": "decimals",
                      "value": 2
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 9,
              "w": 12,
              "x": 0,
              "y": 445
            },
            "id": 38,
            "maxDataPoints": 400,
            "options": {
              "cellHeight": "sm",
              "footer": {
                "countRows": false,
                "fields": "",
                "reducer": [
                  "sum"
                ],
                "show": false
              },
              "frameIndex": 0,
              "showHeader": true,
              "sortBy": [
                {
                  "desc": false,
                  "displayName": "Downstream server"
                }
              ]
            },
            "pluginVersion": "11.6.0+security-01",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "ee55cp459sa9sd"
                },
                "disableTextWrap": false,
                "editorMode": "builder",
                "expr": "sum by(server, connection_type) (rate(traces_service_graph_request_client_seconds_count{client=\"$service\", client_environment=\"$namespace\"}[$__rate_interval]))",
                "fullMetaSearch": false,
                "includeNullMetadata": true,
                "legendFormat": "__auto",
                "range": true,
                "refId": "Server",
                "useBackend": false
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "ee55cp459sa9sd"
                },
                "editorMode": "code",
                "expr": "sum by ( server) (\n    rate(\n      traces_service_graph_request_client_seconds_sum{client=\"$service\", clien_environment=\"$namespace\"}              \n      [$__rate_interval]) / rate (traces_service_graph_request_client_seconds_count{client=\"$service\", client_environment=\"$namespace\"}               \n      [$__rate_interval]\n    )\n)",
                "hide": false,
                "instant": false,
                "legendFormat": "__auto",
                "range": true,
                "refId": "Latency"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "ee55cp459sa9sd"
                },
                "editorMode": "code",
                "expr": "sum by(server) (rate(traces_service_graph_request_failed_total{client=\"$service\", client_environment=\"$namespace\"}[$__rate_interval])) / sum by(server) (rate(traces_service_graph_request_total{client=\"$service\", client_environment=\"$namespace\"}[$__rate_interval]))",
                "hide": false,
                "legendFormat": "__auto",
                "range": true,
                "refId": "Errors"
              }
            ],
            "title": "Downstream dependencies",
            "transformations": [
              {
                "id": "timeSeriesTable",
                "options": {
                  "Errors": {
                    "stat": "lastNotNull",
                    "timeField": "Time"
                  },
                  "Latency": {
                    "stat": "lastNotNull",
                    "timeField": "Time"
                  },
                  "Server": {
                    "timeField": "Time"
                  }
                }
              },
              {
                "id": "joinByField",
                "options": {
                  "byField": "server",
                  "mode": "outer"
                }
              },
              {
                "id": "organize",
                "options": {
                  "excludeByName": {},
                  "includeByName": {},
                  "indexByName": {
                    "Trend #Errors": 3,
                    "Trend #Latency": 4,
                    "Trend #Server": 2,
                    "connection_type": 1,
                    "server": 0
                  },
                  "renameByName": {
                    "Trend #Errors": "Errors count",
                    "Trend #Latency": "Latency",
                    "Trend #Server": "Throughput",
                    "connection_type": "Connection Type",
                    "connection_type 1": "Connection Type",
                    "other_service": "Service",
                    "server": "Downstream server",
                    "type": "Type",
                    "type 1": "Service Role"
                  }
                }
              }
            ],
            "type": "table"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "ee55cp459sa9sd"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "reqpm"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 9,
              "w": 12,
              "x": 12,
              "y": 445
            },
            "id": 41,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "11.6.0+security-01",
            "targets": [
              {
                "disableTextWrap": false,
                "editorMode": "builder",
                "expr": "sum by(server, connection_type) (increase(traces_service_graph_request_total{client=\"$service\", client_environment=\"$namespace\"}[1m]))",
                "fullMetaSearch": false,
                "includeNullMetadata": true,
                "legendFormat": "{{server}} ({{connection_type}})",
                "range": true,
                "refId": "A",
                "useBackend": false
              }
            ],
            "title": "Downstream services",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "ee55cp459sa9sd"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "reqpm"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 9,
              "w": 12,
              "x": 0,
              "y": 454
            },
            "id": 42,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "11.6.0+security-01",
            "targets": [
              {
                "disableTextWrap": false,
                "editorMode": "code",
                "expr": "sum by(server_address) (increase(http_client_request_duration_count{service_name=\"$service\", environment=\"$namespace\"}[1m]))\n\nor \n\nsum by(client_name) (increase(http_client_requests_seconds_count{service=\"$service\", namespace=\"$namespace\"}[1m]))\n",
                "fullMetaSearch": false,
                "includeNullMetadata": true,
                "legendFormat": "__auto",
                "range": true,
                "refId": "A",
                "useBackend": false
              }
            ],
            "title": "HTTP Client requests",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "ee55cp459sa9sd"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "reqpm"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 9,
              "w": 12,
              "x": 12,
              "y": 454
            },
            "id": 47,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "11.6.0+security-01",
            "targets": [
              {
                "disableTextWrap": false,
                "editorMode": "code",
                "expr": "sum by(error_type, server_address) (increase(http_client_request_duration_count{service_name=\"$service\", http_response_status_code!~\"1.*|2.*|3.*\", environment=\"$namespace\"}[1m]))\n\nor \n\nsum by(status, client_name) (increase(http_client_requests_seconds_count{service=\"$service\", outcome!=\"SUCCESS\", namespace=\"$namespace\"}[1m]))\n",
                "fullMetaSearch": false,
                "includeNullMetadata": true,
                "legendFormat": "__auto",
                "range": true,
                "refId": "A",
                "useBackend": false
              }
            ],
            "title": "HTTP Client request Errors",
            "type": "timeseries"
          }
        ],
        "title": "Experiment",
        "type": "row"
      }
    ],
    "preload": false,
    "refresh": "",
    "schemaVersion": 41,
    "tags": [],
    "templating": {
      "list": [
        {
          "allowCustomValue": false,
          "current": {
            "text": "stag",
            "value": "stag"
          },
          "definition": "label_values(target_info,environment)",
          "label": "Namespace",
          "name": "namespace",
          "options": [],
          "query": {
            "qryType": 1,
            "query": "label_values(target_info,environment)",
            "refId": "PrometheusVariableQueryEditor-VariableQuery"
          },
          "refresh": 1,
          "regex": "",
          "type": "query"
        },
        {
          "current": {
            "text": "alice-mobile-staff-backend",
            "value": "alice-mobile-staff-backend"
          },
          "datasource": {
            "type": "prometheus",
            "uid": "ee55cp459sa9sd"
          },
          "definition": "query_result(count (    process_start_time_seconds{environment=\"$namespace\"} or    jvm_class_count{environment=\"$namespace\"} or    label_replace (        process_start_time_seconds{namespace=\"$namespace\"}        , \"service_name\", \"$1\", \"service\", \"(.+)\"    )) by (service_name))",
          "includeAll": false,
          "label": "Service",
          "name": "service",
          "options": [],
          "query": {
            "qryType": 3,
            "query": "query_result(count (    process_start_time_seconds{environment=\"$namespace\"} or    jvm_class_count{environment=\"$namespace\"} or    label_replace (        process_start_time_seconds{namespace=\"$namespace\"}        , \"service_name\", \"$1\", \"service\", \"(.+)\"    )) by (service_name))",
            "refId": "PrometheusVariableQueryEditor-VariableQuery"
          },
          "refresh": 2,
          "regex": "/service_name=\"(?\u003cvalue\u003e[^\"]+)/g",
          "sort": 1,
          "type": "query"
        },
        {
          "current": {
            "text": "alice-mobile-staff-backend",
            "value": "alice-mobile-staff-backend"
          },
          "datasource": {
            "type": "prometheus",
            "uid": "ee55cp459sa9sd"
          },
          "definition": "query_result(max (    jvm_info{namespace=\"$namespace\", service=\"$service\"}     or     label_replace(target_info{environment=\"$namespace\", job=\"$service\"}, \"container\", \"$1\", \"k8s_container_name\", \"(.+)\")    or     process_start_time_seconds{namespace=\"$namespace\", service=\"$service\"}) by (container))",
          "hide": 2,
          "includeAll": false,
          "label": "Container",
          "name": "container",
          "options": [],
          "query": {
            "qryType": 3,
            "query": "query_result(max (    jvm_info{namespace=\"$namespace\", service=\"$service\"}     or     label_replace(target_info{environment=\"$namespace\", job=\"$service\"}, \"container\", \"$1\", \"k8s_container_name\", \"(.+)\")    or     process_start_time_seconds{namespace=\"$namespace\", service=\"$service\"}) by (container))",
            "refId": "PrometheusVariableQueryEditor-VariableQuery"
          },
          "refresh": 1,
          "regex": "/container=\"(?\u003cvalue\u003e[^\"]+)/g",
          "type": "query"
        },
        {
          "current": {
            "text": "",
            "value": ""
          },
          "datasource": {
            "type": "prometheus",
            "uid": "ee55cp459sa9sd"
          },
          "definition": "label_values(target_info{job=\"$service\", environment=\"$namespace\"},k8s_deployment_name)",
          "hide": 2,
          "includeAll": false,
          "label": "Deployment",
          "name": "deployment",
          "options": [],
          "query": {
            "qryType": 1,
            "query": "label_values(target_info{job=\"$service\", environment=\"$namespace\"},k8s_deployment_name)",
            "refId": "PrometheusVariableQueryEditor-VariableQuery"
          },
          "refresh": 1,
          "regex": "",
          "type": "query"
        },
        {
          "baseFilters": [],
          "datasource": {
            "type": "prometheus",
            "uid": "ee55cp459sa9sd"
          },
          "filters": [],
          "name": "Filters",
          "type": "adhoc"
        },
        {
          "current": {
            "text": "All",
            "value": "$__all"
          },
          "datasource": {
            "type": "prometheus",
            "uid": "ee55cp459sa9sd"
          },
          "definition": "label_values(kube_horizontalpodautoscaler_spec_target_metric{namespace=\"$namespace\", horizontalpodautoscaler=\"$service\"},metric_name)",
          "hide": 2,
          "includeAll": true,
          "label": "HPA Metric Name",
          "name": "hpa_metric_name",
          "options": [],
          "query": {
            "qryType": 1,
            "query": "label_values(kube_horizontalpodautoscaler_spec_target_metric{namespace=\"$namespace\", horizontalpodautoscaler=\"$service\"},metric_name)",
            "refId": "PrometheusVariableQueryEditor-VariableQuery"
          },
          "refresh": 1,
          "regex": "",
          "type": "query"
        },
        {
          "current": {
            "text": "All",
            "value": "$__all"
          },
          "datasource": {
            "type": "prometheus",
            "uid": "ee55cp459sa9sd"
          },
          "definition": "query_result(label_replace(    max (target_info{job=\"$service\", environment=\"$namespace\"}) by (k8s_pod_name, container_image_tag),    \"service_instance_id\", \"$1\", \"k8s_pod_name\", \"(.*)\")or label_replace(    max (jvm_info{service=\"$service\", namespace=\"$namespace\"}) by (pod),     \"service_instance_id\", \"$1\", \"pod\", \"(.+)\")or label_replace( max(jvm_memory_max_bytes{service=\"$service\", namespace=\"$namespace\"}) by (pod), \"service_instance_id\", \"$1\", \"pod\", \"(.+)\"))",
          "hide": 2,
          "includeAll": true,
          "label": "Pods",
          "name": "pods",
          "options": [],
          "query": {
            "qryType": 3,
            "query": "query_result(label_replace(    max (target_info{job=\"$service\", environment=\"$namespace\"}) by (k8s_pod_name, container_image_tag),    \"service_instance_id\", \"$1\", \"k8s_pod_name\", \"(.*)\")or label_replace(    max (jvm_info{service=\"$service\", namespace=\"$namespace\"}) by (pod),     \"service_instance_id\", \"$1\", \"pod\", \"(.+)\")or label_replace( max(jvm_memory_max_bytes{service=\"$service\", namespace=\"$namespace\"}) by (pod), \"service_instance_id\", \"$1\", \"pod\", \"(.+)\"))",
            "refId": "PrometheusVariableQueryEditor-VariableQuery"
          },
          "refresh": 2,
          "regex": "/service_instance_id=\"(?\u003cvalue\u003e[^\"]+)/g",
          "type": "query"
        },
        {
          "allValue": "All",
          "current": {
            "text": "All",
            "value": "$__all"
          },
          "datasource": {
            "type": "prometheus",
            "uid": "ee55cp459sa9sd"
          },
          "definition": "label_values(slo:sli_error:ratio_rate1h{sloth_service=\"$service\"},sloth_slo)",
          "hide": 2,
          "includeAll": true,
          "label": "SLO",
          "name": "slo",
          "options": [],
          "query": {
            "qryType": 1,
            "query": "label_values(slo:sli_error:ratio_rate1h{sloth_service=\"$service\"},sloth_slo)",
            "refId": "PrometheusVariableQueryEditor-VariableQuery"
          },
          "refresh": 1,
          "regex": "",
          "type": "query"
        }
      ]
    },
    "time": {
      "from": "now-15m",
      "to": "now"
    },
    "timepicker": {},
    "timezone": "utc",
    "title": "Ticket_dispatch_scheduler service Monitoring"
  }
}